<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Maqueta de T√≥tem de Voz</title>
  <style>
    body {
      font-family: sans-serif;
      background: #eef2f3;
      text-align: center;
      padding: 2em;
    }
    #personaje {
      width: 200px;
    }
    #globo {
      position: relative;
      display: inline-block;
      background: #fff;
      padding: 1em;
      border-radius: 1em;
      margin-top: 1em;
      max-width: 60%;
      box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
    }
    #globo::after {
      content: '';
      position: absolute;
      bottom: -20px;
      left: 30px;
      border-width: 10px;
      border-style: solid;
      border-color: #fff transparent transparent transparent;
    }
    button {
      margin-top: 2em;
      padding: 1em 2em;
      font-size: 1.2em;
    }
  </style>
</head>
<body>
  <h1>Preg√∫ntale al t√≥tem</h1>
  <p>Ejemplo: "¬øD√≥nde pago la luz?"</p>
  <button onclick="escuchar()">üé§ Hablar</button>
  <div id="respuesta" style="margin-top: 2em;">
    <img id="personaje" src="https://i.imgur.com/5MZocCz.png" alt="personaje">
    <div id="globo"></div>
  </div>

  <script>
    const respuestas = {
      "qu√© medicamentos me recet√≥ el doctor": {
        texto: "Paciente: Kathalina Alveal\nFecha: 8 de mayo de 2025\nMedicamento 1: Paracetamol\nIndicaci√≥n: Para mejorar el resfriado.",
        imagen: "https://i.imgur.com/5MZocCz.png"
      },
      "d√≥nde puedo pedir una hora para atenderme": {
        texto: "Puedes pedir una hora a trav√©s de nuestra p√°gina web o en el m√≥dulo de atenci√≥n.",
        imagen: "https://i.imgur.com/5MZocCz.png"
      },
      "en qu√© parte queda el sector rojo": {
        texto: "El sector rojo est√° ubicado en el primer piso, al lado del √°rea de urgencias.",
        imagen: "https://i.imgur.com/5MZocCz.png"
      },
      "a qu√© hora puedo venir los d√≠as s√°bados": {
        texto: "Los s√°bados puedes venir de 9:00 AM a 2:00 PM.",
        imagen: "https://i.imgur.com/5MZocCz.png"
      },
      "d√≥nde est√°n las urgencias": {
        texto: "Las urgencias est√°n en la entrada principal, a la derecha.",
        imagen: "https://i.imgur.com/5MZocCz.png"
      },
      "qu√© especialidades hay en esta cl√≠nica": {
        texto: "Contamos con medicina general, pediatr√≠a, ginecolog√≠a y traumatolog√≠a.",
        imagen: "https://i.imgur.com/5MZocCz.png"
      },
      "c√≥mo llego al laboratorio": {
        texto: "Desde la entrada, sigue las l√≠neas verdes hasta el final del pasillo.",
        imagen: "https://i.imgur.com/5MZocCz.png"
      },
      "d√≥nde se toman los ex√°menes de sangre": {
        texto: "Los ex√°menes de sangre se realizan en el laboratorio, sector azul.",
        imagen: "https://i.imgur.com/5MZocCz.png"
      }
    };

    function escuchar() {
      const reconocimiento = new webkitSpeechRecognition();
      reconocimiento.lang = 'es-ES';
      reconocimiento.onresult = function(event) {
        const pregunta = event.results[0][0].transcript.toLowerCase();
        responder(pregunta);
      };
      reconocimiento.onerror = function(e) {
        alert('Error al reconocer la voz. Intente de nuevo.');
      };
      reconocimiento.start();
    }

    function responder(pregunta) {
      const respuesta = respuestas[pregunta];
      const globo = document.getElementById("globo");
      const personaje = document.getElementById("personaje");
      if (respuesta) {
        globo.textContent = respuesta.texto;
        personaje.src = respuesta.imagen;
        const mensaje = new SpeechSynthesisUtterance(respuesta.texto);
        mensaje.lang = 'es-ES';
        speechSynthesis.speak(mensaje);
      } else {
        globo.textContent = "Lo siento, no entend√≠ la pregunta.";
        personaje.src = "https://i.imgur.com/5MZocCz.png";
        const mensaje = new SpeechSynthesisUtterance("Lo siento, no entend√≠ la pregunta.");
        mensaje.lang = 'es-ES';
        speechSynthesis.speak(mensaje);
      }
    }
  </script>
</body>
</html>
